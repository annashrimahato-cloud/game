(()=>{var e={};e.id=421,e.ids=[421],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1291:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>l}),s(639),s(2029),s(5866);var r=s(3191),a=s(8716),i=s(7922),o=s.n(i),n=s(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let l=["",{children:["game",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,639)),"/Users/annashrimahato/Desktop/Project Word/game/src/app/game/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"/Users/annashrimahato/Desktop/Project Word/game/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/annashrimahato/Desktop/Project Word/game/src/app/game/page.tsx"],m="/game/page",u={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/game/page",pathname:"/game",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},3595:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},6537:()=>{},8180:(e,t,s)=>{Promise.resolve().then(s.bind(s,2694))},5047:(e,t,s)=>{"use strict";var r=s(7389);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},2694:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(326),a=s(7577),i=s(5047),o=s(5046);function n(){let e=(0,i.useRouter)(),[t,s]=(0,a.useState)(180),[n,d]=(0,a.useState)(""),[l,c]=(0,a.useState)([]),[m,u]=(0,a.useState)(0),[h,x]=(0,a.useState)(!1),[g,p]=(0,a.useState)(""),[f,S]=(0,a.useState)(""),[b,y]=(0,a.useState)(!1),[w,v]=(0,a.useState)(""),N=(0,a.useRef)(null),j=async e=>{let t=e.trim().toLowerCase();if(!t.startsWith("a")||!t.endsWith("e"))return{isValid:!1,reason:"format"};if(l.some(e=>e.word.toLowerCase()===t))return{isValid:!1,reason:"duplicate"};if(t.length<2)return{isValid:!1,reason:"length"};try{if(!(await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${t}`)).ok)return{isValid:!1,reason:"dictionary"};return{isValid:!0}}catch(e){return console.warn("Dictionary API failed, accepting word:",e),{isValid:!0}}},E=async e=>{if(e.preventDefault(),h)return;let t=n.trim();if(t){p(""),S(""),y(!0);try{let e=await j(t);if(e.isValid){let e={word:t,score:t.length,timestamp:Date.now()};c(t=>[...t,e]),u(e=>e+t.length),d(""),S(`✅ "${t}" added! +${t.length} points`),setTimeout(()=>S(""),2e3)}else"format"===e.reason?t.startsWith("a")?t.endsWith("e")||p('Word must end with "E"'):p('Word must start with "A"'):"duplicate"===e.reason?p("Word already used!"):"length"===e.reason?p("Word must be at least 2 letters long"):"dictionary"===e.reason?p("❌ Not an appropriate English word."):p("Invalid word!")}finally{y(!1)}}},P=async()=>{try{let s=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),r=`Wordit Session ${new Date().toLocaleDateString()}`,a=`A→E`,i={username:w,score:m,wordsCount:l.length,timeUsed:180-t,words:l,date:new Date().toISOString(),shareId:s};await o.O.saveGameScore(i),await o.O.saveGameSession({username:w,sessionName:r,letterPair:a,date:new Date().toISOString(),score:m}),localStorage.setItem("worditGameData",JSON.stringify({totalScore:m,words:l,timeUsed:180-t,shareId:s})),e.push("/results")}catch(s){console.error("Error saving game data:",s),localStorage.setItem("worditGameData",JSON.stringify({totalScore:m,words:l,timeUsed:180-t})),e.push("/results")}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Wordit"}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 mb-4",children:["Start with ",r.jsx("span",{className:"font-bold text-blue-600",children:"A"})," • End with ",r.jsx("span",{className:"font-bold text-blue-600",children:"E"})]}),(0,r.jsxs)("div",{className:"flex justify-center space-x-4",children:[r.jsx("button",{onClick:()=>e.push("/challenge"),className:"text-blue-600 hover:text-blue-700 text-sm underline",children:"\uD83D\uDCE4 Share Challenge"}),r.jsx("button",{onClick:()=>e.push("/leaderboard"),className:"text-blue-600 hover:text-blue-700 text-sm underline",children:"\uD83C\uDFC6 Leaderboard"})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-mono font-bold text-gray-800",children:`${Math.floor(t/60)}:${(t%60).toString().padStart(2,"0")}`}),r.jsx("div",{className:"text-sm text-gray-500",children:"Time Remaining"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600",children:m}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Score"})]})}),h?r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-xl font-bold text-gray-800 mb-2",children:"Time's Up!"}),r.jsx("button",{onClick:P,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"View Results"})]})}):r.jsx("form",{onSubmit:E,className:"mb-6",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{ref:N,type:"text",value:n,onChange:e=>d(e.target.value),onKeyPress:e=>{"Enter"===e.key&&E(e)},placeholder:b?"Checking word...":"Type a word...",className:"w-full px-4 py-3 text-lg border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-12",disabled:h||b}),b&&r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})})]}),g&&r.jsx("div",{className:"mt-2 text-sm text-red-600",children:g}),f&&r.jsx("div",{className:"mt-2 text-sm text-green-600",children:f})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:["Words (",l.length,")"]}),0===l.length?r.jsx("div",{className:"text-gray-500 text-center py-4",children:"No words yet..."}):r.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:l.map((e,t)=>(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[r.jsx("span",{className:"text-gray-800 font-medium",children:e.word}),(0,r.jsxs)("span",{className:"text-green-600 font-bold",children:["+",e.score]})]},t))})]})]})})}},5046:(e,t,s)=>{"use strict";s.d(t,{O:()=>o});let r={API_KEY:"patP1aQd43AqCZpYq.dacc54c446f99bd9f0aff7cea32d4e7e6684b1e7b2dabb2bd11e790e724cd859",BASE_ID:"appVLi2ogum66Vw6h",TABLES:{DAILY_LETTER_PAIRS:"Daily letter pairs",GAME_SCORE:"Game Score",GAME_SESSION:"Game Session",SHARED_SCORES:"SharedScores"}},a=`https://api.airtable.com/v0/${r.BASE_ID}`;async function i(e,t={}){let s=`${a}/${e}`,i=await fetch(s,{...t,headers:{Authorization:`Bearer ${r.API_KEY}`,"Content-Type":"application/json",...t.headers}});if(!i.ok)throw Error(`Airtable API error: ${i.status} ${i.statusText}`);return i.json()}let o={getDailyLetterPair:async(e,t)=>(await i(`${r.TABLES.DAILY_LETTER_PAIRS}?filterByFormula=AND({first letter} = '${e}', {last letter} = '${t}')`)).records[0]||null,saveGameScore:async e=>(await i(`${r.TABLES.GAME_SCORE}`,{method:"POST",body:JSON.stringify({records:[{fields:{username:e.username,"Total score":e.score,"Words count":e.wordsCount,"Time used":e.timeUsed,"Words list":JSON.stringify(e.words),Date:e.date,"Share ID":e.shareId||""}}]})})).records[0].id,saveGameSession:async e=>(await i(`${r.TABLES.GAME_SESSION}`,{method:"POST",body:JSON.stringify({records:[{fields:{"Username (Link)":e.username,"Session Name":e.sessionName,"Letter Pair":e.letterPair,Date:e.date,Score:e.score}}]})})).records[0].id,getUserGameSessions:async e=>(await i(`${r.TABLES.GAME_SESSION}?filterByFormula={Username (Link)} = '${e}'&sort[0][field]=Date&sort[0][direction]=desc`)).records.map(e=>({id:e.id,sessionName:e.fields["Session Name"],letterPair:e.fields["Letter Pair"],date:e.fields.Date,score:e.fields.Score})),getLeaderboard:async()=>(await i(`${r.TABLES.GAME_SCORE}?sort[0][field]=Total score&sort[0][direction]=desc`)).records.map(e=>({id:e.id,username:e.fields.username,score:e.fields["Total score"],wordsCount:e.fields["Words count"],timeUsed:e.fields["Time used"],date:e.fields.Date})),saveSharedScore:async e=>(await i(`${r.TABLES.SHARED_SCORES}`,{method:"POST",body:JSON.stringify({records:[{fields:{ShareId:e.shareId,Username:e.username,Score:e.score,WordsCount:e.wordsCount,TimeUsed:e.timeUsed,Words:JSON.stringify(e.words),Date:e.date}}]})})).records[0].id,async getSharedScore(e){let t=await i(`${r.TABLES.SHARED_SCORES}?filterByFormula={ShareId}="${e}"`);if(t.records.length>0){let e=t.records[0];return{id:e.id,shareId:e.fields.ShareId,username:e.fields.Username,score:e.fields.Score,wordsCount:e.fields.WordsCount,timeUsed:e.fields.TimeUsed,words:JSON.parse(e.fields.Words||"[]"),date:e.fields.Date}}return null}}},639:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`/Users/annashrimahato/Desktop/Project Word/game/src/app/game/page.tsx#default`)},2029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>o});var r=s(9510),a=s(5317),i=s.n(a);s(5023);let o={title:"Game App",description:"A Next.js game application"};function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:i().className,children:r.jsx("main",{className:"min-h-screen bg-gray-50",children:e})})})}},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[975],()=>s(1291));module.exports=r})();